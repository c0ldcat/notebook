---
# vi: ft=pandoc.markdown
---

# 索引和视图

## 索引

### 索引分类

#### 稀疏索引和稠密索引

`稀疏索引`{.idx} `稠密索引`{.idx}

#### 聚集索引和辅助索引(储存结构)

`聚集索引`{.idx} `辅助索引`{.idx}

聚集索引
: 聚集索引就是指表中的元组按照索引中搜索码指定的顺序排序, 使得具有相同搜索码值的元组在物理上聚集在一起. 显然, 一张表最多只能有一个聚集索引. 聚集索引往往是稀疏索引, 可以只存储部分搜索码值

辅助索引
: 因为表中的元组是按聚集索引而不是辅助索引的搜索码有序存放的, 所以辅助索引必须是稠密索引, 对每个搜索码值都有一个索引项, 包含指向表中每个元组的指针. 显然, 一张表可以创建多个辅助索引

聚集索引应在辅助索引前建立

#### 唯一索引和非唯一索引(搜索值是否允许重复)

`唯一索引`{.idx} `非唯一索引`{.idx}

#### 单索引和复合索引(搜索码中的属性数)

`单索引`{.idx} `复合索引`{.idx}

## 视图

`视图`{.idx}

`基本表`{.idx}

基本表
: 基本表在数据库中既要存放它的定义, 又要存放它的数据

视图
: 视图是从一张或几张基本表(或视图)导出的表. 与基本表不同, 视图是一张虚表, 在数据库中只存放视图的定义(即SELECT语句), 不存放视图对应的数据(即SELECT语句的查询结果)

两者的联系是视图的数据在它对应的基本表中, 所以基本表中的数据一旦发生变化, 从视图中查询出的数据也就随之改变

### 视图更新的基本原则

1. FROM子句中只有一个数据库关系
2. SELECT子句中只包含关系的属性名, 不包含任何表达式、聚集函数或DISTINCT短语
3. 没有出现在SELECT子句中的属性可以取空值, 也不是主码中的属性
4. 子查询中没有GROUP BY或HAVING子句
